{{!< default}}
{{!-- 
/**
	* Engagement Lab Bootstrap Framework
	* Developed by Engagement Lab, 2016-2017
	* ==============
	* 
	* Global document includes partial 
	* ==========
	*/
--}}

{{!-- CORE DOCS --}}
<script type="text/javascript" src="/js/jquery/jquery-2.1.4.js"></script>
{{#ifeq environment "development"}}
  <link href="/styles/jsoneditor.min.css" rel="stylesheet" type="text/css">
  <script src="/js/jsoneditor.min.js" def></script>
  
	<textarea id="json-debug" style="display:none">{{jsonStr this}}</textarea>

{{/ifeq}}


<script>

	{{#ifeq environment "development"}}

		var dataViewInit = function() {
			
			var options = {
			    modes: ['view', 'code', 'text']
			};

			var debugOutputs = $('.debug-data');

			// LOAD ACE EDITOR IF DEBUGGING PRESENT
			if(debugOutputs.length > 0) {

				$.each(debugOutputs, function(ind, view) {
					var data = JSON.parse($(view).text());
					$(view).empty();

					var editor = new JSONEditor($(view)[0], options);
					editor.set(data);
				});
			
				}
		}
		$(document).ready(function() {

				// PRINT ALL CURRENT PAGE DATA TO CONSOLE IF REQUESTED
				if(window.location.hash === '#data') {
				
					var jsonText = $('#json-debug').text();
					jsonText = jsonText.substring(1, jsonText.length-1);
					var json = JSON.parse(jsonText);

					console.group("PAGE DATA OUTPUT");
					console.dir(json);
					console.groupEnd();
					debugger;
				
				}

				dataViewInit();

		});
		
	{{/ifeq}}
</script>

{{#ifeq environment "development"}}
	{{#if datadump}}
		{{{jsonPrint this}}}
	{{/if}}
{{/ifeq}}